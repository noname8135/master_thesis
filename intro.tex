\chapter{Introduction}
\label{chap:intro}
\setcounter{page}{1}
\pagenumbering{arabic}

As the popularity of public clouds like Google cloud, Microsoft Azure, Amazon EC2 increases, cloud computing has offered a new way of deploying applications and services. While everything is moved onto the clouds, the growth of volume and complexity of data center network (DCN) is getting challenging. Networking organizations are under increasing pressure of being more efficient, agile and maintainable. In traditional networks, implementing a network-wide policy requires configuring at the device level. The process is time-consuming, error-prone and manpower-heavy. Software defined network (SDN) is a dynamic, programmable, cost-effective network structure that gains great popularity in the industry and academia in recent years \cite{KRVRAU15, MABPPRST08, LHM10} \sout{{\color{red} Refer to some popular SDN tutorial papers here}}. In SDN, a controller centrally manages a number of switches in a consistent manner, and network applications can be developed on the controller for flexible management. The controller is able to control all network flows by configuring flow rules inside the switches. Also, OpenFlow-hybrid switches support both OpenFlow operation and normal Ethernet switching operation such as traditional L2 Ethernet switching, L3 routing, ACL and QoS processing \cite{OF_SPEC}. \sout{{\color{red} Add a reference to justify this sentence}. {\color{red} You can merge the first and the second paragraph, and shorten the sentences in the original first paragraph.}}

Nevertheless, SDN often comes with new security problems \cite{SOS13, CM}\sout{{\color{red} Refer to some popular SDN security survey papers here}}. Aside from controller and applications, there are also some new mechanisms such as topology discovery, host management, protocols and APIs for the communication between entities. With so many new elements introduced, there will be more potential security issues that need to be taken care of in various ways. For instances, applications may be malicious, topology discover and host management mechanism can be leveraged to launch MITM or DOS attack, control channel might be affected by malicious controllers, switches and hosts may be compromised \sout{{\color{red} This sentence is very confusing}. {\color{red} Briefly summarize the categories of security issues in SDN here.}}

Since the openflow switches lie between controllers and hosts, there are quite a lot of components for an attacker to utilize and perform attacks. We will focus on the hazards a compromised switch might bring.
In \cite{HXWG15}, Hong et al. studied the attacks that poison network visibility and its countermeasure, but the situation that switches are compromised is not considered. A compromised switch is able to modify its own flow entries, causing malicious behaviors like undesired forwarding or packet dropping. It can also be connected to a malicious controller and influence the control traffic in the network. Another type of attack is to exploit the topology discovery mechanism, making the controller into believing the existence of non-existing links.

In this work, we present a method to discover compromised switches if they do not follow the flow rules set by the controller or claim fake links between switches. To the best of our knowledge, although some protection methods are proposed \cite{CKGL15} \sout{{\color{red} Cite Prof. Lei's paper}}, there has not been an efficient way to detect if there is any switch being compromised in the network {\color{red} Briefly explain why.}. The detection method in \cite{CKGL15}\sout{{\color{red} Cite Prof. Lei's paper}} is able to detect whether a flow entry works as expected. However, it tests only one flow entry at a time, which is inefficient in a large network. In this work, we present a method to reduce the cost of detecting compromised switches and speed up the entire detection process. We fabricate the detection packets so that each can test multiple flow entries on multiple switches at a time by exploiting identical match field values or exclusive match fields in the flow entries. We also present a new detection method that is able to detect a fabricated link caused by LLDP packets manipulation. The main idea is to measure the round trip time of LLDP packets. If an intermediate switch is compromised and manipulates the LLDP packet, it is very likely to increase the round trip time. Nevertheless, time measurement will be significantly influenced by network congestion. Therefore, we implement \textit{packet pair} to meditate this problem. With two packets sent at the same time, we are able to estimate the delay of traffic congestion by using the arrival time of two packets.

The \emph{main contributions of this paper} are as follow \sout{{\color{red} The items in the list should be more concrete}}:
\begin{enumerate}
\item
Analysis flow entry manipulation and link fabrication attacks, which both influence the visibility of network.
\item
Discuss about counter measurements in previous works.
\item
Propose a switch entry validation method that verify all entries inside the network with aggregation technique.	
\item
Propose an innovative fake link detection method by using time measuring and packet pair.
\item
Evaluate and discuss about our flow entry validation and link fabrication detection method.
\end{enumerate}

The following chapters in this thesis will be: Chapter 2 gives detail background knowledge of the used technology, discuss about possible threats and countermeasures. Chapter 3 is about our threat model and the theory of our own detection method. Chapter 4 contains the experimental details including setup, considerations and evaluation methods. XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX.
-----------------------------------------------
Finally, the conclusion and future expectation of this work will be in Chapter 6.