\chapter{Introduction}
\label{chap:intro}
\setcounter{page}{1}
\pagenumbering{arabic}

Cloud computing has offered a new way of deploying applications and services with the popularity of public clouds such as Google Cloud, Microsoft Azure and Amazon EC2. However, managing the growing size and complexity of data center networks (DCN) to support the cloud environment is getting challenging. The DCN infrastructure is under increasing pressure to be more efficient, agile and maintainable. Traditional approaches enforce network-wide policies in the device level. The configuration is time-consuming, error-prone and manpower-heavy. Software-defined networking (SDN) is a dynamic, programmable, cost-effective solution that gains great popularity in the industry and academia in recent years \cite{KRVRAU15, MABPPRST08, LHM10}. In SDN, a controller can centrally manage the flow rules on the switches in a consistent manner, and network applications can be developed on the controller for flexible management. Also, OpenFlow-hybrid switches support both OpenFlow operation and normal Ethernet switching operation such as traditional L2 Ethernet switching, L3 routing, access control and QoS processing \cite{OF_SPEC}.

Nevertheless, SDN often comes with new security threats \cite{SOS13,CM}. New mechanisms such as topology discovery, host management, OpenFlow protocols and application interfaces have been introduced. With the new elements introduced, there will be more potential security issues that need to be taken care of. For example, applications may be malicious, topology discovery and host management mechanisms can be leveraged to launch man-in-the-middle or denial-of-service attacks, malicious controllers may affect the control channel, and switches and hosts may be compromised.

Since Openflow switches lie between the controller and the hosts, an attacker can utilize a number of components to perform attacks. In this work, we will focus on the hazards that a compromised switch may bring. In \cite{HXWG15}, Hong et al. studied the attacks that poison network visibility and its countermeasure, but the situation in which switches are compromised is not considered. Also, a compromised switch is able to modify its own flow entries for malicious behavior like undesired forwarding or packet dropping. It can also connect to a malicious controller and influence the network by manipulating the control traffic in the way the attacker desires, such as sending forged OpenFlow messages. Another type of attack is to exploit the topology discovery mechanism, making the controller into believing the existence of non-existing links.

In this work, we present a method to discover compromised switches if they do not follow the flow rules set by the controller. To the best of our knowledge, although some protection methods have been proposed \cite{CKGL15,PJL16}, there has not been an efficient way to detect if there is any compromised switch in SDN. The detection method in \cite{CKGL15} is able to detect whether a flow entry works as expected. However, it tests only one flow entry at a time, which is inefficient in a large network. FADE presented in \cite{PJL16} results in some false negative results and takes a while to go through the entire network. ATPG in \cite{ZKVM12} is able to test through all the rules in the network with few packets in short amount of time. However, it is based on regular network in the Internet rather than SDN. They need additional efforts to deploy their method, such as setting up test terminals and network monitors. Furthermore, it is not very flexible to extend the method since it often needs a throughout change, comparing to our work, which only needs to modify the code in the controller. In this work, we present a method to reduce the cost of detecting compromised switches and speed up the entire detection process flexibly. We fabricate the detection packets so that each can test multiple flow entries on multiple switches at a time by exploiting identical match field values or exclusive match fields in the flow entries. 

The main contributions of this work are as follows:
\begin{enumerate}
\item
Analyze attacks related to flow entry manipulation, which influences the visibility of network.
\item
Discuss countermeasures to such attacks.
\item
Propose a switch entry validation method that verifies all the entries inside the network with aggregation technique.
\item
Evaluate the effectiveness of the method with various control variables.
\end{enumerate}

The following chapters in this work are organized as follows. Chapter 2 gives detailed background knowledge of related technology and discusses possible threats and countermeasures. Chapter 3 is about the threat model and the theory behind the detection method. Chapter 4 contains the experimental details including setup, considerations and evaluation methods. Finally, the conclusion and future expectation of this work will be in Chapter 5.